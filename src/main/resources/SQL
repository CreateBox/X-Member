DROP DATABASE IF EXISTS ManageDB;
CREATE DATABASE ManageDB CHARSET = utf8;
USE ManageDB;

DROP TABLE IF EXISTS data_dictionary;
CREATE TABLE `data_dictionary`(
	dd_id INT NOT NULL PRIMARY KEY AUTO_INCREMENT ,
	dd_typeCode VARCHAR(20) NOT NULL COMMENT '字典编码',
	dd_typeName VARCHAR(20) NOT NULL COMMENT '字典名称',
	dd_valueId INT NOT NULL COMMENT '数据id，提供的外键id',
	dd_valueName VARCHAR(20) NOT NULL COMMENT '数据值',
	dd_operationId INT NOT NULL COMMENT '操作人id',
	dd_lastTime DATE NOT NULL COMMENT '最后修改时间',
	dd_comment VARCHAR(200) COMMENT '备注'
);

INSERT INTO data_dictionary VALUE(DEFAULT,'service_type','服务类型',1,'业务咨询',1,NOW(),NULL);
INSERT INTO data_dictionary VALUE(DEFAULT,'service_type','服务类型',2,'投诉问题',1,NOW(),NULL);
INSERT INTO data_dictionary VALUE(DEFAULT,'service_type','服务类型',3,'售前问题',1,NOW(),NULL);
INSERT INTO data_dictionary VALUE(DEFAULT,'service_type','服务类型',4,'售后问题',1,NOW(),NULL);

INSERT INTO data_dictionary VALUE(DEFAULT,'service_status','服务状态',1,'新创建',1,NOW(),NULL);
INSERT INTO data_dictionary VALUE(DEFAULT,'service_status','服务状态',2,'已提交',1,NOW(),NULL);
INSERT INTO data_dictionary VALUE(DEFAULT,'service_status','服务状态',3,'已分配',1,NOW(),NULL);
INSERT INTO data_dictionary VALUE(DEFAULT,'service_status','服务状态',4,'已处理',1,NOW(),NULL);
INSERT INTO data_dictionary VALUE(DEFAULT,'service_status','服务状态',5,'已反馈',1,NOW(),NULL);

INSERT INTO data_dictionary VALUE(DEFAULT,'sex','性别',1,'男',1,NOW(),NULL);
INSERT INTO data_dictionary VALUE(DEFAULT,'sex','性别',0,'女',1,NOW(),NULL);

INSERT INTO data_dictionary VALUE(DEFAULT,'customer_type','客户类型',1,'VIP客户',1,NOW(),NULL);
INSERT INTO data_dictionary VALUE(DEFAULT,'customer_type','客户类型',2,'金卡客户',1,NOW(),NULL);
INSERT INTO data_dictionary VALUE(DEFAULT,'customer_type','客户类型',3,'银卡客户',1,NOW(),NULL);
INSERT INTO data_dictionary VALUE(DEFAULT,'customer_type','客户类型',4,'普通客户',1,NOW(),NULL);

INSERT INTO data_dictionary VALUE(DEFAULT,'customer_status','客户状态',1,'启用',1,NOW(),NULL);
INSERT INTO data_dictionary VALUE(DEFAULT,'customer_status','客户状态',2,'禁用',1,NOW(),NULL);
INSERT INTO data_dictionary VALUE(DEFAULT,'customer_status','客户状态',3,'流失',1,NOW(),NULL);


DROP TABLE IF EXISTS service;
CREATE TABLE service
(
	s_id INT PRIMARY KEY AUTO_INCREMENT COMMENT '服务ID',
	s_name VARCHAR(30) NOT NULL COMMENT '服务名称',
	s_type INT NOT NULL COMMENT '服务类型',
	s_lastTime DATETIME DEFAULT NOW() COMMENT '最后操作时间',
	s_operator INT NOT NULL COMMENT '操作员',
	s_processor INT NOT NULL COMMENT '待处理人'
);

DROP TABLE IF EXISTS service_FAQ;
CREATE TABLE service_FAQ
(
	sf_id INT PRIMARY KEY AUTO_INCREMENT COMMENT '服务常见问题ID',
	sf_title VARCHAR(30) NOT NULL COMMENT '标题',
	sf_type INT NOT NULL COMMENT '服务类型',
	sf_create INT NOT NULL COMMENT '创建人',
	sf_lastTime DATETIME DEFAULT NOW() COMMENT '最后操作时间'
);


DROP TABLE IF EXISTS customer;
CREATE TABLE customer
(
	c_id INT PRIMARY KEY AUTO_INCREMENT COMMENT '客户ID',
	c_name VARCHAR(30) NOT NULL COMMENT '客户姓名',
	c_sex INT NOT NULL COMMENT '客户性别',
	c_status INT NOT NULL COMMENT '订单状态',
	c_count INT NOT NULL DEFAULT 0 COMMENT '消费次数',
	c_amtall DECIMAL(7,2) DEFAULT 0 COMMENT '消费总额',
	c_service INT NOT NULL COMMENT '服务外键'
);